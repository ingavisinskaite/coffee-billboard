(this["webpackJsonpsolutionlab-assignment"]=this["webpackJsonpsolutionlab-assignment"]||[]).push([[0],{76:function(e,t,n){e.exports=n(93)},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),o=n.n(c),i=(n(81),n(82),n(12)),l=(n(83),n(84),n(135)),f=n(137),u=n(138),s=n(136),d=n(43),m=n(59),E=n.n(m),p=n(132),g=n(143),b=n(131),h=n(129),O=n(130),C=n(128),y=function(e){return r.a.createElement("div",null,r.a.createElement(g.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(C.a,{id:"alert-dialog-title"},"Delete coffee"),r.a.createElement(h.a,null,r.a.createElement(O.a,{id:"alert-dialog-description"},"Are you sure want to delete ",e.coffeeTitle," from your billboard?")),r.a.createElement(b.a,null,r.a.createElement(p.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(p.a,{onClick:function(t){return e.deleteCard(e.coffeeId)},color:"primary",autoFocus:!0},"Delete"))))},v=n(60),j=n.n(v),S=n(141),w=n(134),N=function(e){return e[0].length>0&&e[1].length>0&&e[2]>0},I=function(e){var t=r.a.useState(e.coffeeImg),n=Object(i.a)(t,2),a=n[0],c=n[1],o=r.a.useState(e.coffeeTitle),l=Object(i.a)(o,2),f=l[0],u=l[1],s=r.a.useState(e.coffeePrice),d=Object(i.a)(s,2),m=d[0],E=d[1],O=r.a.useState(!1),y=Object(i.a)(O,2),v=y[0],j=y[1],I={imgUrl:a,title:f,price:m};return r.a.useEffect((function(){N([a,f,m])?j(!0):j(!1)}),[a,f,m]),r.a.createElement(g.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(C.a,{id:"form-dialog-title"},"Edit coffee"),r.a.createElement(h.a,null,r.a.createElement(S.a,{autoFocus:!0,margin:"dense",label:"Image Url",type:"text",fullWidth:!0,value:a,onChange:function(e){return c(e.target.value)}}),r.a.createElement(S.a,{margin:"dense",label:"Title",type:"text",fullWidth:!0,value:f,onChange:function(e){return u(e.target.value)}}),r.a.createElement(S.a,{margin:"dense",label:"Price",type:"number",InputProps:{endAdornment:r.a.createElement(w.a,{position:"end"},"\u20ac")},inputProps:{step:.1},fullWidth:!0,value:m,onChange:function(e){return E(Number(e.target.value))}})),r.a.createElement(b.a,null,r.a.createElement(p.a,{onClick:e.handleClose,color:"primary",variant:"contained"},"Cancel"),r.a.createElement(p.a,{onClick:function(t){return e.editCard(I,e.coffeeId)},color:"primary",variant:"contained",disabled:!v},"Edit")))},L=n(15),U={apiUrl:"https://arcane-scrubland-42634.herokuapp.com"},k="GET_COFFEE_LIST",P="RECEIVE_COFFEE_LIST",F="ADD_COFFEE",T="ADD_COFFEE_SUCCESS",_="REMOVE_COFFEE",D="REMOVE_COFFEE_SUCCESS",x="EDIT_COFFEE",W="EDIT COFFEE SUCCESS";function A(e){return function(t){return t(function(e){return{type:F,coffee:e}}()),fetch("".concat(U.apiUrl,"/coffee"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imgUrl:e.imgUrl,title:e.title,price:e.price})}).then((function(e){return e.json()})).then((function(e){t(function(e){return{type:T,coffee:e}}(e.newCoffee))}))}}function J(e){return function(t){return t(function(e){return{type:_,coffeeId:e}}()),fetch("".concat(U.apiUrl,"/coffee/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(n){t(function(e){return{type:D,coffeeId:e}}(e))}))}}function M(e,t){return function(n){return n(function(e,t){return{type:x,coffee:e,coffeeId:t}}()),fetch("".concat(U.apiUrl,"/coffee/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({imgUrl:e.imgUrl,title:e.title,price:e.price})}).then((function(e){return e.json()})).then((function(e){n(function(e,t){return{type:W,coffee:e,coffeeId:t}}(e.editedCoffee,t))}))}}function R(){return function(e){return e({type:k}),fetch("".concat(U.apiUrl,"/coffee")).then((function(e){return e.json()})).then((function(t){e(function(e){return{type:P,coffeeList:e}}(t.coffeeList))}))}}var V=n(144),q=function(e){var t,n=r.a.useState(!1),a=Object(i.a)(n,2),c=a[0],o=a[1],m=r.a.useState(!1),p=Object(i.a)(m,2),g=p[0],b=p[1],h=Object(L.c)(),O=function(){o(!1)},C=function(){b(!1)};return r.a.createElement(l.a,{className:"coffee-card"},r.a.createElement(s.a,{className:"coffee-img",image:e.imgUrl,title:e.title,style:{background:"linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.3)), url('".concat(e.imgUrl,"')"),backgroundSize:"cover",backgroundPosition:"center"}}),r.a.createElement(f.a,null,r.a.createElement(V.a,{title:"Delete","aria-label":"delete"},r.a.createElement(E.a,{className:"icon delete",onClick:function(){b(!0)}})),r.a.createElement(V.a,{title:"Edit","aria-label":"edit"},r.a.createElement(j.a,{className:"icon edit",onClick:function(){o(!0)}}))),r.a.createElement(u.a,{className:"container"},r.a.createElement(y,{isOpen:g,handleClose:C,coffeeTitle:e.title,coffeeId:e.id,deleteCard:function(e){h(J(e)),C()}}),r.a.createElement(I,{isOpen:c,handleClose:O,coffeeTitle:e.title,coffeeImg:e.imgUrl,coffeePrice:e.price,editCard:function(e,t){h(M(e,t)),O()},coffeeId:e.id}),r.a.createElement(d.a,{className:"title",color:"textSecondary"},e.title),r.a.createElement(d.a,{className:"price",variant:"body2",component:"p"},(t=e.price,"".concat(t.toFixed(2),"\u20ac")))))},B=n(61),X=n.n(B),z=n(140),G=function(e){var t=r.a.useState(""),n=Object(i.a)(t,2),a=n[0],c=n[1],o=r.a.useState(""),l=Object(i.a)(o,2),f=l[0],u=l[1],s=r.a.useState(0),d=Object(i.a)(s,2),m=d[0],E=d[1],y=r.a.useState(!1),v=Object(i.a)(y,2),j=v[0],I=v[1],L={imgUrl:a,title:f,price:m};return r.a.useEffect((function(){N([a,f,m])?I(!0):I(!1)}),[a,f,m]),r.a.createElement(g.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(C.a,{id:"form-dialog-title"},"Add new coffee"),r.a.createElement(h.a,null,r.a.createElement(O.a,null,"Please fill all the fields to add new coffee"),r.a.createElement(S.a,{autoFocus:!0,margin:"dense",label:"Image Url",type:"text",name:"imgUrl",fullWidth:!0,onChange:function(e){return t=e.target.value,void c(t);var t},required:!0}),r.a.createElement(S.a,{margin:"dense",label:"Title",type:"text",name:"title",fullWidth:!0,onChange:function(e){return t=e.target.value,void u(t);var t},required:!0}),r.a.createElement(S.a,{margin:"dense",label:"Price",type:"number",name:"price",InputProps:{endAdornment:r.a.createElement(w.a,{position:"end"},"\u20ac")},inputProps:{min:.1,step:.1},fullWidth:!0,onChange:function(e){return t=Number(e.target.value),void E(t);var t},required:!0})),r.a.createElement(b.a,null,r.a.createElement(p.a,{onClick:e.handleClose,variant:"contained",color:"primary"},"Cancel"),r.a.createElement(p.a,{onClick:function(t){return e.addNewCoffee(L)},variant:"contained",color:"primary",disabled:!j},"Add")))},H=n(139),$=(n(90),function(){return r.a.createElement("div",{className:"app-loading"},r.a.createElement("svg",{className:"spinner",viewBox:"25 25 50 50"},r.a.createElement("circle",{className:"path",cx:"50",cy:"50",r:"15",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"})))}),K=Object(L.b)((function(e){return{coffee:e.coffee}}),{postCoffee:A})((function(e){var t=r.a.useState(!1),n=Object(i.a)(t,2),a=n[0],c=n[1],o=Object(L.c)(),l=function(){c(!1)};return r.a.createElement("div",{className:"billboard"},e.coffee.isLoading?r.a.createElement($,null):r.a.createElement("div",null,r.a.createElement(H.a,{container:!0},e.coffee.coffeeList.map((function(e,t){return r.a.createElement(H.a,{item:!0,md:3,sm:4,xs:6,key:t},r.a.createElement(q,{imgUrl:e.imgUrl,title:e.title,price:e.price,id:e.id,deleteCard:function(e){console.log("deleted")}}))}))),r.a.createElement(V.a,{title:"Add new coffee","aria-label":"add"},r.a.createElement(z.a,{color:"primary","aria-label":"add",className:"add",onClick:function(){c(!0)}},r.a.createElement(X.a,null))),r.a.createElement(G,{isOpen:a,handleClose:l,addNewCoffee:function(e){o(A(e)),l()}})))})),Q=(n(91),Object(L.b)((function(e){return{coffee:e.coffee}}))((function(e){return r.a.createElement("div",{className:"header"},r.a.createElement("a",{href:"/",className:"logo-container"},r.a.createElement("span",{className:"logo-text"},"Coffee House"),r.a.createElement("img",{src:"./coffee-beans.png",alt:"logo",className:"logo-img"})),r.a.createElement("p",{className:"coffee-count"},"Total amount of coffee: ",e.coffee.coffeeList.length))})));n(92);var Y=function(){return Object(L.c)()(R()),r.a.createElement("div",null,r.a.createElement(Q,null),r.a.createElement(K,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=n(23),ee=n(62),te=n(10);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){Object(te.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re={isLoading:!0,coffeeList:[]};function ce(e,t,n){var a=n.findIndex((function(t){return t.id===e}));return n[a]=t,n}var oe=Object(Z.c)({coffee:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:case _:case F:case k:return ae({},e,{isLoading:!0});case P:return ae({},e,{coffeeList:t.coffeeList,isLoading:!1});case D:return ae({},e,{coffeeList:e.coffeeList.filter((function(e){return e.id!==t.coffeeId})),isLoading:!1});case T:return ae({},e,{coffeeList:e.coffeeList.concat(t.coffee),isLoading:!1});case W:return ae({},e,{coffeeList:ce(t.coffeeId,t.coffee,e.coffeeList),isLoading:!1});default:return e}}}),ie=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Z.d,le=Object(Z.e)(oe,ie(Object(Z.a)(ee.a)));o.a.render(r.a.createElement(L.a,{store:le},r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[76,1,2]]]);
//# sourceMappingURL=main.2605945d.chunk.js.map