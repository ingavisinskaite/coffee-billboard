(this["webpackJsonpsolutionlab-assignment"]=this["webpackJsonpsolutionlab-assignment"]||[]).push([[0],{77:function(e,t,n){e.exports=n(94)},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},90:function(e,t,n){},92:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(8),o=n.n(r),l=(n(82),n(83),n(12)),i=(n(84),n(85),n(137)),f=n(138),u=n(139),d=n(136),s=n(44),m=n(60),E=n.n(m),p=n(133),C=n(144),g=n(132),b=n(130),h=n(131),O=n(129),v=function(e){return c.a.createElement("div",null,c.a.createElement(C.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c.a.createElement(O.a,{id:"alert-dialog-title"},"Delete coffee"),c.a.createElement(b.a,null,c.a.createElement(h.a,{id:"alert-dialog-description"},"Are you sure want to delete ",e.coffeeTitle," from your billboard?")),c.a.createElement(g.a,null,c.a.createElement(p.a,{onClick:e.handleClose,color:"primary",variant:"contained"},"Cancel"),c.a.createElement(p.a,{onClick:function(t){return e.deleteCard(e.coffeeId)},color:"primary",variant:"contained",autoFocus:!0},"Delete"))))},S=n(61),y=n.n(S),F=n(142),_=n(135),j=function(e){return!!(e[0].length>0&&e[1].length>0&&T(e[2]))},T=function(e){e=e.toString();var t=new RegExp(/^([\d]{1,2}){1}([.]{1}[\d]{1,2}){0,1}$/);return"0"!==e&&t.test(e)},I=function(e){var t=c.a.useState(e.coffeeImg),n=Object(l.a)(t,2),a=n[0],r=n[1],o=c.a.useState(e.coffeeTitle),i=Object(l.a)(o,2),f=i[0],u=i[1],d=c.a.useState(e.coffeePrice),s=Object(l.a)(d,2),m=s[0],E=s[1],h=c.a.useState(!1),v=Object(l.a)(h,2),S=v[0],y=v[1],T={url:a,title:f,price:m};return c.a.useEffect((function(){j([a,f,m])?y(!0):y(!1)}),[a,f,m]),c.a.createElement(C.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},c.a.createElement(O.a,{id:"form-dialog-title"},"Edit coffee"),c.a.createElement(b.a,null,c.a.createElement(F.a,{autoFocus:!0,margin:"dense",label:"Image Url",type:"text",fullWidth:!0,value:a,onChange:function(e){return r(e.target.value)}}),c.a.createElement(F.a,{margin:"dense",label:"Title",type:"text",fullWidth:!0,value:f,onChange:function(e){return u(e.target.value)}}),c.a.createElement(F.a,{margin:"dense",label:"Price",type:"number",InputProps:{endAdornment:c.a.createElement(_.a,{position:"end"},"\u20ac")},inputProps:{step:.1},fullWidth:!0,value:m,onChange:function(e){return E(Number(e.target.value))}})),c.a.createElement(g.a,null,c.a.createElement(p.a,{onClick:e.handleClose,color:"primary",variant:"contained"},"Cancel"),c.a.createElement(p.a,{onClick:function(t){return e.editCard(T,e.coffeeId)},color:"primary",variant:"contained",disabled:!S},"Edit")))},L=n(15),N="https://arcane-scrubland-42634.herokuapp.com";function k(e,t){return function(n){return n(function(e){return{type:"REQUEST_COFFEE_BY_ID",coffeeId:e}}(e)),fetch("".concat(N,"/coffee/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){n(t(e))}))}}function w(e){return{type:"ADD_COFFEE_SUCCESS",coffee:e}}function D(e){return function(t){return t(function(e){return{type:"ADD_COFFEE",coffee:e}}()),fetch("".concat(N,"/coffee"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e.url,title:e.title,price:e.price})}).then((function(e){return e.json()})).then((function(e){t(k(e,w))}))}}function U(e){return{type:"EDIT COFFEE SUCCESS",coffee:e}}var x=n(145),P=(n(90),function(){return c.a.createElement("div",{className:"app-loading"},c.a.createElement("svg",{className:"spinner",viewBox:"25 25 50 50"},c.a.createElement("circle",{className:"path",cx:"50",cy:"50",r:"15",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"})))}),R=function(e){var t,n=c.a.useState(!1),a=Object(l.a)(n,2),r=a[0],o=a[1],m=c.a.useState(!1),p=Object(l.a)(m,2),C=p[0],g=p[1],b=Object(L.c)(),h=function(){o(!1)},O=function(){g(!1)},S=c.a.createElement(d.a,{className:"coffee-img",image:e.url,title:e.title,style:{background:"linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.3)) url('".concat(e.url,"')"),backgroundSize:"cover",backgroundPosition:"center"}});return c.a.createElement("div",null,e.isLoading?c.a.createElement(P,null):c.a.createElement(i.a,{className:"coffee-card"},S,c.a.createElement(f.a,null,c.a.createElement(x.a,{title:"Delete","aria-label":"delete"},c.a.createElement(E.a,{className:"icon delete",onClick:function(){g(!0)}})),c.a.createElement(x.a,{title:"Edit","aria-label":"edit"},c.a.createElement(y.a,{className:"icon edit",onClick:function(){o(!0)}}))),c.a.createElement(u.a,{className:"container"},c.a.createElement(v,{isOpen:C,handleClose:O,coffeeTitle:e.title,coffeeId:e.id,deleteCard:function(e){var t;b((t=e,function(e){return e(function(e){return{type:"REMOVE_COFFEE",coffeeId:e}}(t)),fetch("".concat(N,"/coffee/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(n){e(function(e){return{type:"REMOVE_COFFEE_SUCCESS",coffeeId:e}}(t))}))})),O()}}),c.a.createElement(I,{isOpen:r,handleClose:h,coffeeTitle:e.title,coffeeImg:e.url,coffeePrice:e.price,editCard:function(e,t){var n,a;b((n=e,a=t,function(e){return e(function(e){return{type:"EDIT_COFFEE",coffeeId:e}}(a)),fetch("".concat(N,"/coffee/").concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:n.url,title:n.title,price:n.price})}).then((function(e){return e.json()})).then((function(t){e(k(a,U))}))})),h()},coffeeId:e.id}),c.a.createElement(s.a,{className:"title",color:"textSecondary"},e.title),c.a.createElement(s.a,{className:"price",variant:"body2",component:"p"},(t=e.price,"".concat(t.toFixed(2),"\u20ac"))))))},A=n(62),W=n.n(A),M=n(141),V=function(e){var t=c.a.useState(""),n=Object(l.a)(t,2),a=n[0],r=n[1],o=c.a.useState(""),i=Object(l.a)(o,2),f=i[0],u=i[1],d=c.a.useState(0),s=Object(l.a)(d,2),m=s[0],E=s[1],v=c.a.useState(!1),S=Object(l.a)(v,2),y=S[0],T=S[1],I={url:a,title:f,price:m};return c.a.useEffect((function(){j([a,f,m])?T(!0):T(!1)}),[a,f,m]),c.a.createElement(C.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},c.a.createElement(O.a,{id:"form-dialog-title"},"Add new coffee"),c.a.createElement(b.a,null,c.a.createElement(h.a,null,"Please fill all the fields to add new coffee"),c.a.createElement(F.a,{autoFocus:!0,margin:"dense",label:"Image Url",type:"text",name:"url",fullWidth:!0,onChange:function(e){return t=e.target.value,void r(t);var t},required:!0}),c.a.createElement(F.a,{margin:"dense",label:"Title",type:"text",name:"title",fullWidth:!0,onChange:function(e){return t=e.target.value,void u(t);var t},required:!0}),c.a.createElement(F.a,{margin:"dense",label:"Price",type:"number",name:"price",InputProps:{endAdornment:c.a.createElement(_.a,{position:"end"},"\u20ac")},inputProps:{min:.1,step:.1},fullWidth:!0,onChange:function(e){return t=Number(e.target.value),void E(t);var t},required:!0})),c.a.createElement(g.a,null,c.a.createElement(p.a,{onClick:e.handleClose,variant:"contained",color:"primary"},"Cancel"),c.a.createElement(p.a,{onClick:function(t){return e.addNewCoffee(I)},variant:"contained",color:"primary",disabled:!y},"Add")))},B=n(140),J=Object(L.b)((function(e){return{coffee:e.coffee}}),{postCoffee:D})((function(e){var t=c.a.useState(!1),n=Object(l.a)(t,2),a=n[0],r=n[1],o=Object(L.c)(),i=function(){r(!1)};return c.a.createElement("div",{className:"billboard"},e.coffee.isLoading?c.a.createElement(P,null):c.a.createElement("div",null,c.a.createElement(B.a,{container:!0},e.coffee.coffeeList.map((function(e,t){return c.a.createElement(B.a,{item:!0,md:3,sm:4,xs:6,key:t},c.a.createElement(R,{url:e.url,title:e.title,price:e.price,id:e.id,isLoading:e.isLoading,deleteCard:function(e){console.log("deleted")}}))}))),c.a.createElement(x.a,{title:"Add new coffee","aria-label":"add"},c.a.createElement(M.a,{color:"primary","aria-label":"add",className:"add",onClick:function(){r(!0)}},c.a.createElement(W.a,null))),c.a.createElement(V,{isOpen:a,handleClose:i,addNewCoffee:function(e){o(D(e)),i()}})))})),Q=(n(92),Object(L.b)((function(e){return{coffee:e.coffee}}))((function(e){return c.a.createElement("div",{className:"header"},c.a.createElement("a",{href:"/coffee-billboard",className:"logo-container"},c.a.createElement("span",{className:"logo-text"},"Coffee House"),c.a.createElement("img",{src:"./coffee-beans.png",alt:"logo",className:"logo-img"})),c.a.createElement("p",{className:"coffee-count"},"Total amount of coffee: ",e.coffee.coffeeList.length))})));n(93);var q=function(){return Object(L.c)()((function(e){return e({type:"REQUEST_COFFEE_LIST"}),fetch("".concat(N,"/coffee")).then((function(e){return e.json()})).then((function(t){e({type:"REQUEST_COFFEE_LIST_SUCCESS",coffeeList:t})}))})),c.a.createElement("div",null,c.a.createElement(Q,null),c.a.createElement(J,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=n(24),$=n(63),z=n(43),G={coffeeList:[]};function H(e,t){var n=t.findIndex((function(t){return t.id===e.id}));return t[n]=Object(z.a)({},e,{isLoading:!1}),t}var Y=Object(X.c)({coffee:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REMOVE_COFFEE":case"EDIT_COFFEE":return{coffeeList:e.coffeeList.map((function(e){return Object(z.a)({},e,{isLoading:e.id===t.coffeeId})}))};case"REQUEST_COFFEE_LIST_SUCCESS":return{coffeeList:t.coffeeList};case"REMOVE_COFFEE_SUCCESS":return{coffeeList:e.coffeeList.filter((function(e){return e.id!==t.coffeeId}))};case"ADD_COFFEE_SUCCESS":return{coffeeList:e.coffeeList.concat(t.coffee)};case"EDIT COFFEE SUCCESS":return{coffeeList:H(t.coffee,e.coffeeList)};default:return e}}}),K=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.d,Z=Object(X.e)(Y,K(Object(X.a)($.a)));o.a.render(c.a.createElement(L.a,{store:Z},c.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[77,1,2]]]);
//# sourceMappingURL=main.3afc4672.chunk.js.map